{
  "info": {
    "name": "Frovo Warehouse Management API",
    "description": "Complete Postman collection for Warehouse Management module with 60 endpoints including Warehouse CRUD and Inventory Management.\n\nVersion 2.1.0 Updates:\nâœ… Fixed inventory management - now correctly assigns to warehouses\nâœ… Auto-detection for warehouse managers\nâœ… Separate PO creation for managers vs super admin\nâœ… Complete warehouse CRUD with role-based access",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.1.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "vendorId",
      "value": "",
      "type": "string"
    },
    {
      "key": "warehouseId",
      "value": "",
      "type": "string"
    },
    {
      "key": "poId",
      "value": "",
      "type": "string"
    },
    {
      "key": "grnId",
      "value": "",
      "type": "string"
    },
    {
      "key": "dispatchId",
      "value": "",
      "type": "string"
    },
    {
      "key": "fieldAgentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "inventoryId",
      "value": "",
      "type": "string"
    },
    {
      "key": "expenseId",
      "value": "",
      "type": "string"
    },
    {
      "key": "warehouseManagerId",
      "value": "",
      "type": "string"
    },
    {
      "key": "warehouseManagerToken",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "0. Authentication",
      "item": [
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "    console.log('Access token saved:', jsonData.data.accessToken);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"nkoushikpanda123@gmail.com\",\n  \"password\": \"SuperAdmin@123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Login to get access token. Token is automatically saved to collection variables."
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check if server is running"
          },
          "response": []
        }
      ]
    },
    {
      "name": "1. Dashboard",
      "item": [
        {
          "name": "Get Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/dashboard",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "dashboard"]
            },
            "description": "Get dashboard with KPIs, alerts, and analytics"
          },
          "response": []
        },
        {
          "name": "Get Dashboard with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/dashboard?date=this_week&category=Snacks",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "dashboard"],
              "query": [
                {
                  "key": "date",
                  "value": "this_week",
                  "description": "Options: today, this_week, this_month, or DD-MM-YYYY"
                },
                {
                  "key": "category",
                  "value": "Snacks",
                  "description": "Filter by product category"
                },
                {
                  "key": "partner",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "warehouseId",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get dashboard with date and category filters"
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. Purchase Orders",
      "item": [
        {
          "name": "ğŸ“– IMPORTANT - Read First",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            },
            "description": "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘  PURCHASE ORDERS & INVENTORY MANAGEMENT - HOW IT WORKS        â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nğŸ”§ VERSION 2.1.0 - INVENTORY FIXES APPLIED\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“¦ WAREHOUSE FIELD IN PURCHASE ORDERS\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nAll Purchase Orders now include a 'warehouse' field that determines\nwhere inventory will be added when a GRN is created.\n\nâœ… FOR WAREHOUSE MANAGERS:\n   - Warehouse is AUTO-DETECTED from your assigned warehouse\n   - NO need to specify warehouse field\n   - Use: \"Create Purchase Order (Warehouse Manager - Auto-Detect)\"\n\nâœ… FOR SUPER ADMIN:\n   - Warehouse field is REQUIRED\n   - Must specify which warehouse the PO is for\n   - Use: \"Create Purchase Order (Super Admin - With Warehouse)\"\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“¦ INVENTORY CREATION FLOW\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n1ï¸âƒ£ CREATE PURCHASE ORDER\n   â””â”€ Warehouse is assigned (auto or manual)\n\n2ï¸âƒ£ APPROVE PURCHASE ORDER (optional)\n   â””â”€ Update PO status to 'approved'\n\n3ï¸âƒ£ CREATE GRN FROM PO\n   â””â”€ ğŸ¯ INVENTORY AUTOMATICALLY CREATED in the PO's warehouse!\n   â””â”€ For each line item:\n      â€¢ Existing inventory â†’ Quantity increased\n      â€¢ New product â†’ New inventory record created\n\n4ï¸âƒ£ CHECK INVENTORY\n   â””â”€ GET /api/warehouse/inventory/dashboard/{warehouseId}\n   â””â”€ You'll see all products from the GRN!\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ” SERVER LOGS TO WATCH\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nWhen creating PO:\n  ğŸ¢ Auto-detected warehouse for manager: WH-MUM-002\n  âœ… PO created with warehouse stored in document\n\nWhen creating GRN:\n  ğŸ“¦ Adding inventory from GRN to warehouse: 6939c8730a7957edc3cd6bfa\n  âœ… Created inventory for LAY-CLASSIC-25G: 500 units\n  âœ… Updated inventory for LAY-MASALA-25G: +300 units\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâš ï¸  TROUBLESHOOTING\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nâŒ \"Purchase order does not have warehouse assigned\"\n   â†’ Old PO without warehouse field\n   â†’ Solution: Run migration script or update PO manually\n\nâŒ Inventory not created after GRN\n   â†’ Check PO has warehouse field in response\n   â†’ Check server logs for inventory creation messages\n   â†’ Verify warehouse ID is valid\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“š MORE INFO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nSee: INVENTORY_MANAGEMENT_FIXES.md for complete documentation"
          },
          "response": []
        },
        {
          "name": "Create Purchase Order (Warehouse Manager - Auto-Detect)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('poId', jsonData.data._id);",
                  "    console.log('PO ID saved:', jsonData.data._id);",
                  "    console.log('PO Number:', jsonData.data.po_number);",
                  "    console.log('Warehouse:', jsonData.data.warehouse || 'Not assigned');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vendor\": \"{{vendorId}}\",\n  \"po_raised_date\": \"{{$isoTimestamp}}\",\n  \"po_status\": \"draft\",\n  \"remarks\": \"Urgent order for upcoming promotion\",\n  \"po_line_items\": [\n    {\n      \"line_no\": 1,\n      \"sku\": \"LAY-CLASSIC-25G\",\n      \"productName\": \"Lays Classic 25g\",\n      \"quantity\": 500,\n      \"category\": \"Snacks\",\n      \"pack_size\": \"25g\",\n      \"uom\": \"Pack\",\n      \"unit_price\": 10,\n      \"expected_delivery_date\": \"2025-12-10T10:00:00.000Z\",\n      \"location\": \"Warehouse A\"\n    },\n    {\n      \"line_no\": 2,\n      \"sku\": \"LAY-MASALA-25G\",\n      \"productName\": \"Lays Masala Magic 25g\",\n      \"quantity\": 300,\n      \"category\": \"Snacks\",\n      \"pack_size\": \"25g\",\n      \"uom\": \"Pack\",\n      \"unit_price\": 10,\n      \"expected_delivery_date\": \"2025-12-10T10:00:00.000Z\",\n      \"location\": \"Warehouse A\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders"]
            },
            "description": "Create new purchase order for WAREHOUSE MANAGER.\n\nâœ… Warehouse is AUTO-DETECTED from logged-in manager's assigned warehouse.\nâœ… No need to specify warehouse field.\nâœ… PO number is auto-generated.\nâœ… When GRN is created, inventory will be added to the correct warehouse.\n\nNote: If you're logged in as Super Admin, use the 'Create PO with Warehouse' request instead."
          },
          "response": []
        },
        {
          "name": "Create Purchase Order (Super Admin - With Warehouse)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('poId', jsonData.data._id);",
                  "    console.log('PO ID saved:', jsonData.data._id);",
                  "    console.log('PO Number:', jsonData.data.po_number);",
                  "    console.log('Warehouse:', jsonData.data.warehouse || 'Not assigned');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vendor\": \"{{vendorId}}\",\n  \"warehouse\": \"{{warehouseId}}\",\n  \"po_raised_date\": \"{{$isoTimestamp}}\",\n  \"po_status\": \"draft\",\n  \"remarks\": \"Urgent order for upcoming promotion\",\n  \"po_line_items\": [\n    {\n      \"line_no\": 1,\n      \"sku\": \"LAY-CLASSIC-25G\",\n      \"productName\": \"Lays Classic 25g\",\n      \"quantity\": 500,\n      \"category\": \"Snacks\",\n      \"pack_size\": \"25g\",\n      \"uom\": \"Pack\",\n      \"unit_price\": 10,\n      \"expected_delivery_date\": \"2025-12-10T10:00:00.000Z\",\n      \"location\": \"Warehouse A\"\n    },\n    {\n      \"line_no\": 2,\n      \"sku\": \"LAY-MASALA-25G\",\n      \"productName\": \"Lays Masala Magic 25g\",\n      \"quantity\": 300,\n      \"category\": \"Snacks\",\n      \"pack_size\": \"25g\",\n      \"uom\": \"Pack\",\n      \"unit_price\": 10,\n      \"expected_delivery_date\": \"2025-12-10T10:00:00.000Z\",\n      \"location\": \"Warehouse A\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders"]
            },
            "description": "Create new purchase order for SUPER ADMIN with explicit warehouse specification.\n\nâš ï¸  Warehouse field is REQUIRED for Super Admin.\nâœ… Use {{warehouseId}} variable (auto-filled from warehouse creation).\nâœ… PO number is auto-generated.\nâœ… When GRN is created, inventory will be added to the specified warehouse.\n\nNote: Warehouse managers don't need to specify warehouse - it's auto-detected."
          },
          "response": []
        },
        {
          "name": "Get All Purchase Orders",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders"]
            },
            "description": "Get list of all purchase orders"
          },
          "response": []
        },
        {
          "name": "Get Purchase Orders with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders?po_status=approved&startDate=2025-01-01",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders"],
              "query": [
                {
                  "key": "po_status",
                  "value": "approved",
                  "description": "Options: draft, pending, approved"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "vendor",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "po_number",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get filtered purchase orders"
          },
          "response": []
        },
        {
          "name": "Get Purchase Order by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders/{{poId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders", "{{poId}}"]
            },
            "description": "Get single purchase order details"
          },
          "response": []
        },
        {
          "name": "Update PO Status to Approved",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"po_status\": \"approved\",\n  \"remarks\": \"All items verified and approved\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders/{{poId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders", "{{poId}}", "status"]
            },
            "description": "Update PO status. Valid values: draft, pending, approved"
          },
          "response": []
        },
        {
          "name": "Delete Purchase Order",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inbound/purchase-orders/{{poId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inbound", "purchase-orders", "{{poId}}"]
            },
            "description": "Delete purchase order (only draft or pending status)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. GRN (Goods Receipt Note)",
      "item": [
        {
          "name": "Create GRN from PO",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('grnId', jsonData.data._id);",
                  "    console.log('GRN ID saved:', jsonData.data._id);",
                  "    console.log('GRN Number:', jsonData.data.grn_number);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"delivery_challan\": \"DC-998877\",\n  \"transporter_name\": \"DHL Logistics\",\n  \"vehicle_number\": \"MH-04-AB-1234\",\n  \"recieved_date\": \"{{$isoTimestamp}}\",\n  \"remarks\": \"All boxes in good condition\",\n  \"scanned_challan\": \"https://example.com/challan.pdf\",\n  \"qc_status\": \"excellent\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/purchase-orders/{{poId}}/grn",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "purchase-orders", "{{poId}}", "grn"]
            },
            "description": "Create GRN from approved PO. \n\nâœ… GRN number is auto-generated.\nâœ… INVENTORY AUTOMATICALLY CREATED in the warehouse assigned to the PO.\nâœ… For each line item in the PO:\n   - If inventory exists for SKU â†’ quantity is increased\n   - If inventory doesn't exist â†’ new inventory record created\nâœ… Check server logs to see: 'Adding inventory from GRN to warehouse: {warehouseId}'\n\nNote: If PO doesn't have warehouse assigned, inventory creation will be skipped with a warning."
          },
          "response": []
        },
        {
          "name": "Get All GRNs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/grn",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "grn"]
            },
            "description": "Get list of all GRNs"
          },
          "response": []
        },
        {
          "name": "Get GRNs with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/grn?qc_status=excellent&startDate=2025-01-01",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "grn"],
              "query": [
                {
                  "key": "qc_status",
                  "value": "excellent",
                  "description": "Options: bad, moderate, excellent"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "transporter_name",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "vendor",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get filtered GRNs"
          },
          "response": []
        },
        {
          "name": "Get GRN by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/grn/{{grnId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "grn", "{{grnId}}"]
            },
            "description": "Get single GRN details"
          },
          "response": []
        },
        {
          "name": "Update GRN Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"qc_status\": \"moderate\",\n  \"remarks\": \"Some minor packaging issues found\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/grn/{{grnId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "grn", "{{grnId}}", "status"]
            },
            "description": "Update GRN QC status"
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Dispatch Orders",
      "item": [
        {
          "name": "Create Dispatch",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('dispatchId', jsonData.data._id);",
                  "    console.log('Dispatch ID saved:', jsonData.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"dispatchId\": \"DO-0001\",\n  \"destination\": \"123 Main Street, Mumbai, Maharashtra 400001\",\n  \"products\": [\n    {\n      \"sku\": \"LAY-CLASSIC-25G\",\n      \"quantity\": 100\n    },\n    {\n      \"sku\": \"LAY-MASALA-25G\",\n      \"quantity\": 50\n    }\n  ],\n  \"assignedAgent\": \"{{fieldAgentId}}\",\n  \"notes\": \"Urgent delivery - customer priority\",\n  \"status\": \"pending\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/outbound/dispatch",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "outbound", "dispatch"]
            },
            "description": "Create dispatch order. Stock is validated and reduced automatically."
          },
          "response": []
        },
        {
          "name": "Get All Dispatches",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/outbound/dispatches",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "outbound", "dispatches"]
            },
            "description": "Get list of all dispatches"
          },
          "response": []
        },
        {
          "name": "Get Dispatches with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/outbound/dispatches?status=in_transit",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "outbound", "dispatches"],
              "query": [
                {
                  "key": "status",
                  "value": "in_transit",
                  "description": "Options: pending, assigned, in_transit, delivered, cancelled"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get filtered dispatches"
          },
          "response": []
        },
        {
          "name": "Get Dispatch by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/outbound/dispatches/{{dispatchId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "outbound", "dispatches", "{{dispatchId}}"]
            },
            "description": "Get single dispatch details"
          },
          "response": []
        },
        {
          "name": "Update Dispatch Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"delivered\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/outbound/dispatches/{{dispatchId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "outbound", "dispatches", "{{dispatchId}}", "status"]
            },
            "description": "Update dispatch status through workflow: pending â†’ assigned â†’ in_transit â†’ delivered"
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. QC Templates",
      "item": [
        {
          "name": "Create QC Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Perishable Items QC\",\n  \"sku\": \"LAY-CLASSIC-25G\",\n  \"parameters\": [\n    {\n      \"name\": \"Packaging Intact\",\n      \"value\": \"Yes\"\n    },\n    {\n      \"name\": \"Expiry Date Valid\",\n      \"value\": \"More than 30 days\"\n    },\n    {\n      \"name\": \"Label Correct\",\n      \"value\": \"Yes\"\n    },\n    {\n      \"name\": \"No Damage\",\n      \"value\": \"Yes\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/qc/templates",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "qc", "templates"]
            },
            "description": "Create reusable QC template for products"
          },
          "response": []
        },
        {
          "name": "Get All QC Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/qc/templates",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "qc", "templates"]
            },
            "description": "Get list of all QC templates"
          },
          "response": []
        },
        {
          "name": "Get QC Templates by SKU",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/qc/templates?sku=LAY-CLASSIC-25G",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "qc", "templates"],
              "query": [
                {
                  "key": "sku",
                  "value": "LAY-CLASSIC-25G"
                }
              ]
            },
            "description": "Get QC templates for specific SKU"
          },
          "response": []
        },
        {
          "name": "Update QC Template",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Perishable Items QC\",\n  \"sku\": \"LAY-CLASSIC-25G\",\n  \"parameters\": [\n    {\n      \"name\": \"Packaging Intact\",\n      \"value\": \"Yes\"\n    },\n    {\n      \"name\": \"Expiry Date Valid\",\n      \"value\": \"More than 60 days\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/qc/templates/:templateId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "qc", "templates", ":templateId"],
              "variable": [
                {
                  "key": "templateId",
                  "value": "TEMPLATE_ID_HERE"
                }
              ]
            },
            "description": "Update existing QC template"
          },
          "response": []
        },
        {
          "name": "Delete QC Template",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/qc/templates/:templateId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "qc", "templates", ":templateId"],
              "variable": [
                {
                  "key": "templateId",
                  "value": "TEMPLATE_ID_HERE"
                }
              ]
            },
            "description": "Delete QC template (soft delete - sets isActive to false)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Returns Management",
      "item": [
        {
          "name": "Create Return Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"batchId\": \"BATCH-001\",\n  \"vendor\": \"{{vendorId}}\",\n  \"reason\": \"Damaged packaging found during inspection\",\n  \"quantity\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/returns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "returns"]
            },
            "description": "Create return order. Return type is auto-detected from reason."
          },
          "response": []
        },
        {
          "name": "Get Return Queue",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/returns/queue",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "returns", "queue"]
            },
            "description": "Get list of all return orders"
          },
          "response": []
        },
        {
          "name": "Get Returns with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/returns/queue?status=pending&returnType=damaged",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "returns", "queue"],
              "query": [
                {
                  "key": "status",
                  "value": "pending",
                  "description": "Options: pending, approved, returned, rejected"
                },
                {
                  "key": "returnType",
                  "value": "damaged",
                  "description": "Options: damaged, expired, wrong_item, overstock, other"
                }
              ]
            },
            "description": "Get filtered return orders"
          },
          "response": []
        },
        {
          "name": "Approve Return",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/returns/:returnId/approve",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "returns", ":returnId", "approve"],
              "variable": [
                {
                  "key": "returnId",
                  "value": "RETURN_ID_HERE"
                }
              ]
            },
            "description": "Approve return order. Inventory is automatically reduced."
          },
          "response": []
        },
        {
          "name": "Reject Return",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/returns/:returnId/reject",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "returns", ":returnId", "reject"],
              "variable": [
                {
                  "key": "returnId",
                  "value": "RETURN_ID_HERE"
                }
              ]
            },
            "description": "Reject return order"
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Field Agents",
      "item": [
        {
          "name": "Get All Field Agents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/field-agents",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "field-agents"]
            },
            "description": "Get list of all field agents"
          },
          "response": []
        },
        {
          "name": "Get Active Field Agents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/field-agents?isActive=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "field-agents"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get only active field agents"
          },
          "response": []
        },
        {
          "name": "Create Field Agent",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('fieldAgentId', jsonData.data._id);",
                  "    console.log('Field Agent ID saved:', jsonData.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Ramesh Kumar\",\n  \"assignedRoutes\": [\"Route-34\", \"Route-45\", \"Route-67\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/field-agents",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "field-agents"]
            },
            "description": "Create new field agent"
          },
          "response": []
        }
      ]
    },
    {
      "name": "8. Inventory Management",
      "item": [
        {
          "name": "Get Inventory Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/dashboard/{{warehouseId}}?page=1&limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "dashboard", "{{warehouseId}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "Get inventory dashboard with pagination"
          },
          "response": []
        },
        {
          "name": "Get Inventory with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/dashboard/{{warehouseId}}?status=low_stock&expiryStatus=expiring_soon&page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "dashboard", "{{warehouseId}}"],
              "query": [
                {
                  "key": "status",
                  "value": "low_stock",
                  "description": "Options: active, low_stock, overstock, expired, quarantine, archived"
                },
                {
                  "key": "expiryStatus",
                  "value": "expiring_soon",
                  "description": "Options: expiring_soon, expired, not_expired, no_expiry"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "sku",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "batchId",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "productName",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "ageRange",
                  "value": "",
                  "disabled": true,
                  "description": "Options: 0-30, 31-60, 61-90, 90+"
                },
                {
                  "key": "quantityRange",
                  "value": "",
                  "disabled": true,
                  "description": "Options: low, medium, high, out_of_stock"
                }
              ]
            },
            "description": "Get inventory with advanced filters"
          },
          "response": []
        },
        {
          "name": "Get Inventory Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/stats/{{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "stats", "{{warehouseId}}"]
            },
            "description": "Get inventory statistics for warehouse"
          },
          "response": []
        },
        {
          "name": "Get Inventory Item by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/{{inventoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "{{inventoryId}}"]
            },
            "description": "Get single inventory item details"
          },
          "response": []
        },
        {
          "name": "Update Inventory Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 150,\n  \"minStockLevel\": 20,\n  \"maxStockLevel\": 500,\n  \"expiryDate\": \"2026-12-31T00:00:00.000Z\",\n  \"location\": {\n    \"zone\": \"A\",\n    \"aisle\": \"2\",\n    \"rack\": \"3\",\n    \"bin\": \"4\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/{{inventoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "{{inventoryId}}"]
            },
            "description": "Update inventory item. Status and age are auto-calculated."
          },
          "response": []
        },
        {
          "name": "Archive Inventory Item",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/{{inventoryId}}/archive",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "{{inventoryId}}", "archive"]
            },
            "description": "Archive single inventory item"
          },
          "response": []
        },
        {
          "name": "Unarchive Inventory Item",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/{{inventoryId}}/unarchive",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "{{inventoryId}}", "unarchive"]
            },
            "description": "Unarchive inventory item"
          },
          "response": []
        },
        {
          "name": "Get Archived Inventory",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/archived/{{warehouseId}}?page=1&limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "archived", "{{warehouseId}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "Get list of archived inventory items"
          },
          "response": []
        },
        {
          "name": "Bulk Archive Inventory",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"inventoryIds\": [\n    \"INVENTORY_ID_1\",\n    \"INVENTORY_ID_2\",\n    \"INVENTORY_ID_3\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/bulk-archive",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "bulk-archive"]
            },
            "description": "Archive multiple inventory items at once"
          },
          "response": []
        },
        {
          "name": "Bulk Unarchive Inventory",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"inventoryIds\": [\n    \"INVENTORY_ID_1\",\n    \"INVENTORY_ID_2\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/inventory/bulk-unarchive",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "inventory", "bulk-unarchive"]
            },
            "description": "Unarchive multiple inventory items at once"
          },
          "response": []
        }
      ]
    },
    {
      "name": "9. Expense Management",
      "item": [
        {
          "name": "Create Expense",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('expenseId', jsonData.data._id);",
                  "    console.log('Expense ID saved:', jsonData.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category\": \"transport\",\n  \"amount\": 12000,\n  \"vendor\": \"{{vendorId}}\",\n  \"date\": \"{{$isoTimestamp}}\",\n  \"description\": \"Monthly transportation costs for stock delivery\",\n  \"billUrl\": \"https://example.com/bill123.pdf\",\n  \"assignedAgent\": \"{{fieldAgentId}}\",\n  \"warehouseId\": \"{{warehouseId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses"]
            },
            "description": "Create new expense record"
          },
          "response": []
        },
        {
          "name": "Upload Expense Bill",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "document",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/{{expenseId}}/upload-bill",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "{{expenseId}}", "upload-bill"]
            },
            "description": "Upload bill document for an expense. The file will be uploaded to Cloudinary and the URL will be stored in the expense record."
          },
          "response": []
        },
        {
          "name": "Get All Expenses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                }
              ]
            },
            "description": "Get list of all expenses"
          },
          "response": []
        },
        {
          "name": "Get Expenses with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses?warehouseId={{warehouseId}}&category=transport&status=pending",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "category",
                  "value": "transport",
                  "description": "Options: staffing, supplies, equipment, transport"
                },
                {
                  "key": "status",
                  "value": "pending",
                  "description": "Options: approved, pending"
                },
                {
                  "key": "paymentStatus",
                  "value": "",
                  "disabled": true,
                  "description": "Options: paid, unpaid, partially_paid"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "month",
                  "value": "",
                  "disabled": true,
                  "description": "Format: YYYY-MM"
                }
              ]
            },
            "description": "Get filtered expenses"
          },
          "response": []
        },
        {
          "name": "Get Expense Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/summary?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "summary"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                }
              ]
            },
            "description": "Get expense summary with category breakdown and payment status"
          },
          "response": []
        },
        {
          "name": "Get Expense by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/{{expenseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "{{expenseId}}"]
            },
            "description": "Get single expense details"
          },
          "response": []
        },
        {
          "name": "Update Expense",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category\": \"supplies\",\n  \"amount\": 15000,\n  \"date\": \"{{$isoTimestamp}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/{{expenseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "{{expenseId}}"]
            },
            "description": "Update expense. Note: Updating amount/category/date resets status to pending."
          },
          "response": []
        },
        {
          "name": "Approve Expense",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/{{expenseId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "{{expenseId}}", "status"]
            },
            "description": "Approve or reject expense"
          },
          "response": []
        },
        {
          "name": "Update Payment Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentStatus\": \"paid\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/{{expenseId}}/payment-status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "{{expenseId}}", "payment-status"]
            },
            "description": "Update payment status: paid, unpaid, partially_paid"
          },
          "response": []
        },
        {
          "name": "Delete Expense",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/{{expenseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "{{expenseId}}"]
            },
            "description": "Delete expense permanently"
          },
          "response": []
        },
        {
          "name": "Get Monthly Expense Trend",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/expenses/trend/monthly?warehouseId={{warehouseId}}&months=12",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "expenses", "trend", "monthly"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "months",
                  "value": "12",
                  "description": "Number of months to retrieve (default: 12)"
                }
              ]
            },
            "description": "Get monthly expense trend data for charts"
          },
          "response": []
        }
      ]
    },
    {
      "name": "10. Reports & Analytics",
      "item": [
        {
          "name": "Get Report Types",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/types",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "types"]
            },
            "description": "Get list of available report types"
          },
          "response": []
        },
        {
          "name": "Generate Inventory Summary Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/inventory-summary?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "inventory-summary"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "category",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Generate comprehensive inventory summary report"
          },
          "response": []
        },
        {
          "name": "Generate Purchase Orders Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/purchase-orders?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "purchase-orders"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "vendor",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Generate purchase orders report"
          },
          "response": []
        },
        {
          "name": "Generate Inventory Turnover Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/inventory-turnover?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "inventory-turnover"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "category",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Generate inventory turnover analysis report"
          },
          "response": []
        },
        {
          "name": "Generate QC Summary Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/qc-summary?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "qc-summary"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "vendor",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Generate quality control summary report"
          },
          "response": []
        },
        {
          "name": "Generate Efficiency Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/efficiency?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "efficiency"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Generate warehouse efficiency report"
          },
          "response": []
        },
        {
          "name": "Generate Stock Ageing Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/stock-ageing?warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "stock-ageing"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                }
              ]
            },
            "description": "Generate stock ageing analysis report"
          },
          "response": []
        },
        {
          "name": "Generate Report (Generic)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports?type=inventory_summary&warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports"],
              "query": [
                {
                  "key": "type",
                  "value": "inventory_summary",
                  "description": "Options: inventory_summary, purchase_orders, inventory_turnover, qc_summary, efficiency, stock_ageing"
                },
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                },
                {
                  "key": "startDate",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Generate any report type using generic endpoint"
          },
          "response": []
        },
        {
          "name": "Export Report as CSV",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/export?type=inventory_summary&format=csv&warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "export"],
              "query": [
                {
                  "key": "type",
                  "value": "inventory_summary"
                },
                {
                  "key": "format",
                  "value": "csv",
                  "description": "Options: csv, json"
                },
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                }
              ]
            },
            "description": "Export report as CSV file"
          },
          "response": []
        },
        {
          "name": "Export Report as JSON",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/reports/export?type=purchase_orders&format=json&warehouseId={{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "reports", "export"],
              "query": [
                {
                  "key": "type",
                  "value": "purchase_orders"
                },
                {
                  "key": "format",
                  "value": "json"
                },
                {
                  "key": "warehouseId",
                  "value": "{{warehouseId}}"
                }
              ]
            },
            "description": "Export report as JSON"
          },
          "response": []
        }
      ]
    },
    {
      "name": "11. Warehouse Management (CRUD)",
      "item": [
        {
          "name": "Step 1: Create Warehouse Manager User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data._id) {",
                  "        pm.collectionVariables.set('warehouseManagerId', jsonData.data._id);",
                  "        console.log('Warehouse Manager User ID saved:', jsonData.data._id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Warehouse Manager\",\n  \"email\": \"john.manager@frovo.com\",\n  \"phone\": \"9876543210\",\n  \"password\": \"SecurePass@123\",\n  \"roles\": [\"675118f7c2e17142793547d4\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "register"]
            },
            "description": "STEP 1: Super Admin creates a new user with Warehouse Manager role. The user ID is saved to use as manager in Step 2.\n\nNote: Replace the role ID with your actual Warehouse Manager role ID."
          },
          "response": []
        },
        {
          "name": "Get All Roles (To Find Warehouse Manager Role ID)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/roles?page=1&limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["api", "roles"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "Get list of all roles to find the Warehouse Manager role ID. Use this ID when creating warehouse manager users."
          },
          "response": []
        },
        {
          "name": "Step 2: Create Warehouse with Manager",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('warehouseId', jsonData.data._id);",
                  "    console.log('Warehouse ID saved:', jsonData.data._id);",
                  "    console.log('Warehouse Code:', jsonData.data.code);",
                  "    console.log('Assigned Manager:', jsonData.data.manager.name);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mumbai Central Warehouse\",\n  \"code\": \"WH-MUM-001\",\n  \"partner\": \"Frovo Distribution Partner\",\n  \"location\": \"Andheri East, Mumbai, Maharashtra 400069\",\n  \"capacity\": 50000,\n  \"manager\": \"{{warehouseManagerId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses"]
            },
            "description": "STEP 2: Super Admin creates warehouse and assigns the manager created in Step 1. The manager ID is automatically filled from the previous request.\n\nOnly Super Admin can create warehouses. Warehouse code must be unique."
          },
          "response": []
        },
        {
          "name": "Step 3: Warehouse Manager Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('warehouseManagerToken', jsonData.data.accessToken);",
                  "    console.log('Warehouse Manager token saved:', jsonData.data.accessToken);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john.manager@frovo.com\",\n  \"password\": \"SecurePass@123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "STEP 3: Warehouse Manager logs in with their credentials. Token is saved separately as warehouseManagerToken."
          },
          "response": []
        },
        {
          "name": "Step 4: Get My Assigned Warehouse",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses/my-warehouse",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses", "my-warehouse"]
            },
            "description": "STEP 4: Warehouse Manager gets their assigned warehouse details. This returns the warehouse ID that should be used in all subsequent warehouse operations.\n\nUse this warehouse ID for:\n- Dashboard\n- Purchase Orders\n- GRN\n- Inventory\n- Dispatches\n- Expenses\n- Reports"
          },
          "response": []
        },
        {
          "name": "------- DIVIDER -------",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            },
            "description": "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nADDITIONAL WAREHOUSE MANAGEMENT ENDPOINTS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          },
          "response": []
        },
        {
          "name": "Create Warehouse (Manual)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('warehouseId', jsonData.data._id);",
                  "    console.log('Warehouse ID saved:', jsonData.data._id);",
                  "    console.log('Warehouse Code:', jsonData.data.code);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mumbai Central Warehouse\",\n  \"code\": \"WH-MUM-001\",\n  \"partner\": \"Frovo Distribution Partner\",\n  \"location\": \"Andheri East, Mumbai, Maharashtra 400069\",\n  \"capacity\": 50000,\n  \"manager\": \"USER_ID_OF_WAREHOUSE_MANAGER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses"]
            },
            "description": "Create warehouse manually (if not using the Step 2 automated flow). Only Super Admin can create warehouses. Warehouse code must be unique.\n\nReplace USER_ID_OF_WAREHOUSE_MANAGER with actual user ID."
          },
          "response": []
        },
        {
          "name": "Get All Warehouses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (default: 1)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page (default: 10, max: 100)"
                },
                {
                  "key": "search",
                  "value": "",
                  "disabled": true,
                  "description": "Search by name, code, or location"
                },
                {
                  "key": "isActive",
                  "value": "",
                  "disabled": true,
                  "description": "Filter by active status (true/false)"
                },
                {
                  "key": "partner",
                  "value": "",
                  "disabled": true,
                  "description": "Filter by partner name"
                },
                {
                  "key": "sortBy",
                  "value": "",
                  "disabled": true,
                  "description": "Sort by: name, code, createdAt, capacity (default: createdAt)"
                },
                {
                  "key": "sortOrder",
                  "value": "",
                  "disabled": true,
                  "description": "Sort order: asc, desc (default: desc)"
                }
              ]
            },
            "description": "Get list of all warehouses with pagination and filters. Super Admin sees all, Warehouse Managers see only their assigned warehouse."
          },
          "response": []
        },
        {
          "name": "Get Warehouses with Search",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses?search=Mumbai&isActive=true&sortBy=name&sortOrder=asc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses"],
              "query": [
                {
                  "key": "search",
                  "value": "Mumbai",
                  "description": "Search by name, code, or location"
                },
                {
                  "key": "isActive",
                  "value": "true",
                  "description": "Filter by active status"
                },
                {
                  "key": "sortBy",
                  "value": "name",
                  "description": "Sort by name"
                },
                {
                  "key": "sortOrder",
                  "value": "asc",
                  "description": "Ascending order"
                }
              ]
            },
            "description": "Get warehouses with search and filter options"
          },
          "response": []
        },
        {
          "name": "Get Warehouse by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses/{{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses", "{{warehouseId}}"]
            },
            "description": "Get single warehouse details. Warehouse Managers can only view their assigned warehouse."
          },
          "response": []
        },
        {
          "name": "Update Warehouse",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mumbai Central Warehouse - Updated\",\n  \"location\": \"Andheri West, Mumbai, Maharashtra 400058\",\n  \"capacity\": 75000,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses/{{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses", "{{warehouseId}}"]
            },
            "description": "Update warehouse details. Requires warehouse:manage permission. All fields are optional."
          },
          "response": []
        },
        {
          "name": "Reassign Warehouse Manager",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"manager\": \"NEW_MANAGER_USER_ID\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses/{{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses", "{{warehouseId}}"]
            },
            "description": "Reassign warehouse to a different manager. The new manager must have the Warehouse Manager role.\n\nUse Case: When transferring warehouse responsibility to another manager.\n\nRequires warehouse:manage permission or Super Admin role."
          },
          "response": []
        },
        {
          "name": "Deactivate Warehouse",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses/{{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses", "{{warehouseId}}"]
            },
            "description": "Deactivate warehouse (soft delete). Requires warehouse:manage permission."
          },
          "response": []
        },
        {
          "name": "Delete Warehouse (Super Admin)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/warehouse/warehouses/{{warehouseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "warehouse", "warehouses", "{{warehouseId}}"]
            },
            "description": "Permanently delete warehouse. Only Super Admin can delete. Cannot delete warehouse with active inventory."
          },
          "response": []
        }
      ]
    }
  ]
}
